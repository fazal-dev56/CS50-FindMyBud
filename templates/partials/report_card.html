<div class="report-card">

    <div class="image-wrapper">
        {% if report.photo1 %}
            <img src="{{ url_for('static', filename='uploads/' ~ report.photo1) }}">
        {% elif report.photo2 %}
            <img src="{{ url_for('static', filename='uploads/' ~ report.photo2) }}">
        {% else %}
            <div class="no-image">No Image</div>
        {% endif %}
    </div>

    <span class="badge {{ report.type }}">
        {{ report.type | capitalize }}
    </span>

    {% if report.status == 'resolved' %}
        <span class="badge resolved">Solved</span>
    {% endif %}

    <h3>{{ report.brand }} - {{ report.model }}</h3>

    <p><strong>Location:</strong> {{ report.location_text }}</p>
    <p><strong>Date:</strong> {{ report.event_date }}</p>

    <p class="description">
        {{ report.description or "No description provided." }}
    </p>

    <div class="card-actions">

        <!-- ALWAYS visible -->
        <a href="{{ url_for('report_details', report_id=report.id) }}" class="btn btn-primary btn-sm">
            View Details
        </a>

        <!-- ONLY on My Reports page -->
        {% if is_my_reports %}

            {% if report.status == 'active' %}
                <form method="post" action="/report/{{ report.id }}/resolve" style="display:inline;">
                    <button class="btn btn-success btn-sm">Mark Resolved</button>
                </form>
            {% endif %}

            <form method="post" action="/report/{{ report.id }}/delete" style="display:inline;">
                <button onclick="return confirm('Are you sure?')" class="btn btn-danger btn-sm">Delete</button>
            </form>

        {% endif %}

    </div>

</div>
